(function(h,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(h=typeof globalThis!="undefined"?globalThis:h||self,e(h.vueperslides={},h.Vue))})(this,function(h,e){"use strict";var le=Object.defineProperty,ne=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var C=(h,e,f)=>e in h?le(h,e,{enumerable:!0,configurable:!0,writable:!0,value:f}):h[e]=f,p=(h,e)=>{for(var f in e||(e={}))oe.call(e,f)&&C(h,f,e[f]);if(v)for(var f of v(e))ae.call(e,f)&&C(h,f,e[f]);return h},w=(h,e)=>ne(h,re(e));const f=["src"],T=["src"],_=["src"],B=["src"],E=["src"],O={key:2},x={class:"vueperslide__content-wrapper"},M=["innerHTML"],V=["innerHTML"],N={class:"vueperslide__content-wrapper"},D=["innerHTML"],I=["innerHTML"],P={key:4,class:"vueperslide__loader"};function L(t,i,l,n,o,s){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.link?"a":"div"),{class:e.normalizeClass(["vueperslide",s.slideClasses]),href:l.link&&!s.justDragged?l.link:!1,target:l.link&&l.openInNew?typeof l.openInNew=="boolean"?"_blank":l.openInNew:"_self",face:s.slideFace3d,style:e.normalizeStyle(s.slideStyles),"aria-hidden":s.slides.activeId===t._.uid||s.isSlideVisible?"false":"true",onMouseenter:i[0]||(i[0]=a=>t.$emit("mouse-enter",{slideIndex:s.slideIndex,title:l.title,content:l.content,image:l.image,link:l.link},t.$el)),onMouseleave:i[1]||(i[1]=a=>t.$emit("mouse-leave"))},{default:e.withCtx(()=>[s.videoObj?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.videoObj.webm||s.videoObj.mp4?(e.openBlock(),e.createElementBlock("video",e.mergeProps({key:0,class:"vueperslide__video",width:"100%",height:"100%"},s.videoObj.props||{}),[s.videoObj.webm?(e.openBlock(),e.createElementBlock("source",{key:0,src:s.videoObj.webm,type:"video/webm"},null,8,f)):e.createCommentVNode("",!0),s.videoObj.mp4?(e.openBlock(),e.createElementBlock("source",{key:1,src:s.videoObj.mp4,type:"video/mp4"},null,8,T)):e.createCommentVNode("",!0),s.videoObj.ogv?(e.openBlock(),e.createElementBlock("source",{key:2,src:s.videoObj.ogv,type:"video/ogg"},null,8,_)):e.createCommentVNode("",!0),s.videoObj.avi?(e.openBlock(),e.createElementBlock("source",{key:3,src:s.videoObj.avi,type:"video/avi"},null,8,B)):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(s.videoObj.alt||"Sorry, your browser doesn't support embedded videos."),1)],16)):s.videoObj.url?(e.openBlock(),e.createElementBlock("iframe",e.mergeProps({key:1,class:"vueperslide__video",src:s.videoObj.url,type:"text/html",frameborder:"0",width:"100%",height:"100%"},s.videoObj.props||{}),null,16,E)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),t.imageSrc&&s.conf.slideImageInside?(e.openBlock(),e.createElementBlock("div",{key:1,class:"vueperslide__image",style:e.normalizeStyle(s.imageStyles)},null,4)):e.createCommentVNode("",!0),s.conf.slideContentOutside?e.withDirectives((e.openBlock(),e.createElementBlock("div",O,[e.renderSlot(t.$slots,"content",{},()=>[e.createElementVNode("div",x,[l.title?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vueperslide__title",innerHTML:l.title},null,8,M)):e.createCommentVNode("",!0),l.content?(e.openBlock(),e.createElementBlock("div",{key:1,class:"vueperslide__content",innerHTML:l.content},null,8,V)):e.createCommentVNode("",!0)])])],512)),[[e.vShow,!1]]):e.renderSlot(t.$slots,"content",{key:3},()=>[e.createElementVNode("div",N,[l.title?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vueperslide__title",innerHTML:l.title},null,8,D)):e.createCommentVNode("",!0),l.content?(e.openBlock(),e.createElementBlock("div",{key:1,class:"vueperslide__content",innerHTML:l.content},null,8,I)):e.createCommentVNode("",!0)])]),s.conf.lazy&&!t.loaded?(e.openBlock(),e.createElementBlock("div",P,[e.renderSlot(t.$slots,"loader")])):e.createCommentVNode("",!0)]),_:3},40,["href","target","class","face","style","aria-hidden"])}var de="",b=(t,i)=>{const l=t.__vccOpts||t;for(const[n,o]of i)l[n]=o;return l},k=b({inject:["slides","touch","updateSlide","addClone","addSlide","removeSlide"],props:{clone:{type:Boolean},image:{type:String,default:""},video:{type:[String,Object],default:""},title:{type:String,default:""},content:{type:String,default:""},link:{type:String,default:""},duration:{type:Number,default:0},lazyloaded:{type:Boolean},openInNew:{type:[Boolean,String]}},emits:["mouse-enter","mouse-leave"],data:()=>({imageSrc:"",loading:!1,loaded:!1}),computed:{conf(){return this.$parent.conf},slideClasses(){return{"vueperslide--active":this.slides.activeId===this._.uid,"vueperslide--previous-slide":this.isPreviousSlide,"vueperslide--next-slide":this.isNextSlide,"vueperslide--visible":this.isSlideVisible,"vueperslide--loading":this.conf.lazy&&!this.loaded,"vueperslide--has-video":this.videoObj,"vueperslide--has-image-inside":this.conf.slideImageInside,"vueperslide--no-pointer-events":this.videoObj&&this.videoObj.pointerEvents===!1}},slideStyles(){const{visibleSlides:t,fade:i,slideImageInside:l,gap:n,gapPx:o}=this.conf;return p(p(p(p({},!l&&this.imageSrc&&{backgroundImage:`url("${this.imageSrc}")`}),t>1&&{width:(100-(n?n*(t-1):0))/t+"%"}),t>1&&i&&{[this.conf.rtl?"right":"left"]:this.slideIndex%t/t*100+"%"}),n&&{[this.conf.rtl?"marginLeft":"marginRight"]:n+(o?"px":"%")})},videoObj(){if(!this.video)return null;let t={url:"",alt:"",props:{controls:!0}};return typeof this.video=="object"?t=Object.assign(t,this.video):typeof this.video=="string"&&(t.url=this.video),t},youtubeVideo(){return/youtube\.|youtu\.be/.test(this.videoObj.url)},imageStyles(){return p({},this.conf.slideImageInside&&this.imageSrc&&{backgroundImage:`url("${this.imageSrc}")`})},slideFace3d(){if(!this.conf["3d"])return!1;const t=["front","right","back","left"],i=(this.slides.current-1+this.slidesCount)%this.slidesCount,l=(this.slides.current+1)%this.slidesCount;let n="front";return this.slideIndex===i?n=t[(4+this.slides.current-1)%4]:this.slideIndex===l&&(n=t[(this.slides.current+1)%4]),n=t[this.slideIndex%4],this.conf.rtl&&n==="left"?n="right":this.conf.rtl&&n==="right"&&(n="left"),n},isPreviousSlide(){if(!this.conf["3d"])return!1;const t=(this.slides.current-1+this.slidesCount)%this.slidesCount;return this._.uid===this.slides.list[t].id},isNextSlide(){if(!this.conf["3d"])return!1;const t=(this.slides.current+1)%this.slidesCount;return this._.uid===this.slides.list[t].id},isSlideVisible(){return this.slideIndex>=this.slides.firstVisible&&this.slideIndex<this.slides.firstVisible+this.conf.visibleSlides},slidesList(){return this.slides.list.map(t=>t.id)},slidesCount(){return this.slidesList.length},slideIndex(){return this.slidesList.indexOf(this._.uid)},justDragged(){return this.touch.justDragged}},methods:{updateThisSlide(t){this.updateSlide(this._.uid,t)},loadImage(){if(!(this.loading||this.loaded))return this.loading=!0,new Promise((t,i)=>{const l=document.createElement("img");l.onload=()=>{this.imageSrc=this.image,this.loading=!1,this.loaded=!0,this.$nextTick(()=>{t({image:this.imageSrc,style:((this.$el.attributes||{}).style||{}).value})})},l.onerror=(this.loading=!1)||i,l.src=this.image})},playVideo(){!this.videoObj||(this.videoObj.url?this.$el.querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):this.$el.querySelector("video").play())},pauseVideo(){!this.videoObj||(this.videoObj.url?this.$el.querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):this.$el.querySelector("video").pause())}},created(){if(this.imageSrc=this.conf.lazy?"":this.image,this.clone)return this.addClone();this.addSlide({id:this._.uid,image:this.imageSrc,video:this.videoObj&&w(p({},this.videoObj),{play:this.playVideo,pause:this.pauseVideo}),title:this.title,content:this.content,contentSlot:this.$slots.content,loaderSlot:this.$slots.loader,link:this.link,style:"",loadImage:this.loadImage,duration:this.duration})},mounted(){this.clone||this.updateThisSlide({contentSlot:this.$slots.content,loaderSlot:this.$slots.loader,style:((this.$el.attributes||{}).style||{}).value})},beforeUnmount(){this.clone||this.removeSlide(this._.uid)},watch:{image(){this.imageSrc=this.conf.lazy&&!this.isSlideVisible?"":this.image,this.clone||this.updateThisSlide(p({image:this.imageSrc},!this.conf.slideImageInside&&{style:this.slideStyles}))},title(){this.clone||this.updateThisSlide({title:this.title})},content(){this.clone||this.updateThisSlide({content:this.content})},link(){this.clone||this.updateThisSlide({link:this.link})},lazyloaded(){this.clone&&(this.loaded=this.lazyloaded)}}},[["render",L]]),he="";const j=["innerHTML"],z=["innerHTML"],H={class:"vueperslides__inner"},A={key:0,class:"vueperslides__paused"},R={key:1,class:"vueperslides__progress"},X={key:2,class:"vueperslides__fractions"},F={viewBox:"0 0 9 18"},W=["d"],K={viewBox:"0 0 9 18"},Y=["d"],q={key:4,class:"vueperslides__bullets",ref:"bullets",role:"tablist","aria-label":"Slideshow navigation"},U=["aria-label","onClick"],G={class:"default"},J={key:1,class:"vueperslides__bullets vueperslides__bullets--outside",ref:"bullets",role:"tablist","aria-label":"Slideshow navigation"},Q=["aria-label","onClick"],Z={class:"default"},$=["innerHTML"],ee=["innerHTML"];function te(t,i,l,n,o,s){const a=e.resolveComponent("vnodes"),u=e.resolveComponent("vueper-slide");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vueperslides",s.vueperslidesClasses]),ref:"vueperslides","aria-label":"Slideshow",style:e.normalizeStyle(s.vueperslidesStyles)},[s.slidesCount&&s.conf.slideContentOutside==="top"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["vueperslide__content-wrapper vueperslide__content-wrapper--outside-top",s.conf.slideContentOutsideClass])},[s.currentSlide.contentSlot?(e.openBlock(),e.createBlock(a,{key:0,vnodes:s.currentSlide.contentSlot()},null,8,["vnodes"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.currentSlide.title?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vueperslide__title",innerHTML:s.currentSlide.title},null,8,j)):e.createCommentVNode("",!0),s.currentSlide.content?(e.openBlock(),e.createElementBlock("div",{key:1,class:"vueperslide__content",innerHTML:s.currentSlide.content},null,8,z)):e.createCommentVNode("",!0)],64))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",H,[e.createElementVNode("div",{class:"vueperslides__parallax-wrapper",style:e.normalizeStyle(`padding-bottom: ${s.conf.slideRatio*100}%`),"aria-live":"polite"},[e.createElementVNode("div",{class:e.normalizeClass(["vueperslides__track",{"vueperslides__track--dragging":t.touch.dragging,"vueperslides__track--mousedown":t.mouseDown}]),ref:"track",style:e.normalizeStyle(s.trackStyles)},[e.createElementVNode("div",{class:"vueperslides__track-inner",style:e.normalizeStyle(s.trackInnerStyles)},[e.renderSlot(t.$slots,"default"),t.isReady&&s.conf.infinite&&s.canSlide&&s.lastSlide?(e.openBlock(),e.createBlock(u,{key:0,class:"vueperslide--clone vueperslide--clone-1",clone:"",title:s.lastSlide.title,content:s.lastSlide.content,image:s.lastSlide.image,link:s.lastSlide.link,style:e.normalizeStyle(s.lastSlide.style),lazyloaded:s.lastSlide.loaded,"aria-hidden":"true"},e.createSlots({_:2},[s.lastSlide.contentSlot?{name:"content",fn:e.withCtx(()=>[e.createVNode(a,{vnodes:s.lastSlide.contentSlot()},null,8,["vnodes"])])}:void 0,s.conf.lazy&&!s.lastSlide.loaded&&s.lastSlide.loaderSlot?{name:"loader",fn:e.withCtx(()=>[e.createVNode(a,{vnodes:s.lastSlide.loaderSlot()},null,8,["vnodes"])])}:void 0]),1032,["title","content","image","link","style","lazyloaded"])):e.createCommentVNode("",!0),t.isReady&&s.conf.infinite&&s.canSlide&&s.firstSlide?(e.openBlock(),e.createBlock(u,{key:1,class:"vueperslide--clone vueperslide--clone-2",clone:"",title:s.firstSlide.title,content:s.firstSlide.content,image:s.firstSlide.image,link:s.firstSlide.link,style:e.normalizeStyle(s.firstSlide.style),lazyloaded:s.firstSlide.loaded,"aria-hidden":"true"},e.createSlots({_:2},[s.firstSlide.contentSlot?{name:"content",fn:e.withCtx(()=>[e.createVNode(a,{vnodes:s.firstSlide.contentSlot()},null,8,["vnodes"])])}:void 0,s.conf.lazy&&!s.firstSlide.loaded&&s.firstSlide.loaderSlot?{name:"loader",fn:e.withCtx(()=>[e.createVNode(a,{vnodes:s.firstSlide.loaderSlot()},null,8,["vnodes"])])}:void 0]),1032,["title","content","image","link","style","lazyloaded"])):e.createCommentVNode("",!0)],4)],6)],4),(s.conf.pauseOnHover||s.conf.pauseOnTouch)&&t.$slots.pause?(e.openBlock(),e.createElementBlock("div",A,[e.renderSlot(t.$slots,"pause")])):e.createCommentVNode("",!0),s.conf.progress?(e.openBlock(),e.createElementBlock("div",R,[e.renderSlot(t.$slots,"progress",{current:t.slides.current+1,total:s.slidesCount},()=>[e.createElementVNode("div",{style:e.normalizeStyle(`width: ${(t.slides.current+1)*100/s.slidesCount}%`)},null,4)])])):e.createCommentVNode("",!0),s.conf.fractions?(e.openBlock(),e.createElementBlock("div",X,[e.renderSlot(t.$slots,"fraction",{current:t.slides.current+1,total:s.slidesCount},()=>[e.createTextVNode(e.toDisplayString(`${t.slides.current+1} / ${s.slidesCount}`),1)])])):e.createCommentVNode("",!0),s.conf.arrows&&s.canSlide&&!l.disable?(e.openBlock(),e.createElementBlock("div",{key:3,class:e.normalizeClass(["vueperslides__arrows",{"vueperslides__arrows--outside":s.conf.arrowsOutside}])},[e.withDirectives(e.createElementVNode("button",{class:"vueperslides__arrow vueperslides__arrow--prev",type:"button",onClick:i[0]||(i[0]=c=>s.previous()),"aria-label":"Previous",onKeyup:[i[1]||(i[1]=e.withKeys(c=>s.conf.rtl?s.next():s.previous(),["left"])),i[2]||(i[2]=e.withKeys(c=>s.conf.rtl?s.previous():s.next(),["right"]))]},[e.renderSlot(t.$slots,`arrow-${s.conf.rtl?"right":"left"}`,{},()=>[(e.openBlock(),e.createElementBlock("svg",F,[e.createElementVNode("path",{"stroke-linecap":"round",d:s.conf.rtl?"m1 1 l7 8 -7 8":"m8 1 l-7 8 7 8"},null,8,W)]))])],544),[[e.vShow,!s.arrowPrevDisabled]]),e.withDirectives(e.createElementVNode("button",{class:"vueperslides__arrow vueperslides__arrow--next",type:"button",onClick:i[3]||(i[3]=c=>s.next()),"aria-label":"Next",onKeyup:[i[4]||(i[4]=e.withKeys(c=>s.conf.rtl?s.next():s.previous(),["left"])),i[5]||(i[5]=e.withKeys(c=>s.conf.rtl?s.previous():s.next(),["right"]))]},[e.renderSlot(t.$slots,`arrow-${s.conf.rtl?"left":"right"}`,{},()=>[(e.openBlock(),e.createElementBlock("svg",K,[e.createElementVNode("path",{"stroke-linecap":"round",d:s.conf.rtl?"m8 1 l-7 8 7 8":"m1 1 l7 8 -7 8"},null,8,Y)]))])],544),[[e.vShow,!s.arrowNextDisabled]])],2)):e.createCommentVNode("",!0),s.conf.bullets&&s.canSlide&&!l.disable&&!s.conf.bulletsOutside?(e.openBlock(),e.createElementBlock("div",q,[e.renderSlot(t.$slots,"bullets",{currentSlide:t.slides.current,bulletIndexes:s.bulletIndexes,goToSlide:s.goToSlide,previous:s.previous,next:s.next},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.bulletIndexes,(c,r)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["vueperslides__bullet",{"vueperslides__bullet--active":t.slides.current===c}]),type:"button",key:r,role:"tab","aria-label":`Slide ${r+1}`,onClick:d=>s.goToSlide(c),onKeyup:[i[6]||(i[6]=e.withKeys(d=>s.conf.rtl?s.next():s.previous(),["left"])),i[7]||(i[7]=e.withKeys(d=>s.conf.rtl?s.previous():s.next(),["right"]))]},[e.renderSlot(t.$slots,"bullet",{active:t.slides.current===c,slideIndex:c,index:r+1},()=>[e.createElementVNode("div",G,[e.createElementVNode("span",null,e.toDisplayString(r+1),1)])])],42,U))),128))])],512)):e.createCommentVNode("",!0)]),s.conf.bullets&&s.canSlide&&!l.disable&&s.conf.bulletsOutside?(e.openBlock(),e.createElementBlock("div",J,[e.renderSlot(t.$slots,"bullets",{currentSlide:t.slides.current,bulletIndexes:s.bulletIndexes,goToSlide:s.goToSlide,previous:s.previous,next:s.next},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.bulletIndexes,(c,r)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["vueperslides__bullet",{"vueperslides__bullet--active":t.slides.current===c}]),type:"button",key:r,role:"tab","aria-label":`Slide ${r+1}`,onClick:d=>s.goToSlide(c),onKeyup:[i[8]||(i[8]=e.withKeys(d=>s.conf.rtl?s.next():s.previous(),["left"])),i[9]||(i[9]=e.withKeys(d=>s.conf.rtl?s.previous():s.next(),["right"]))]},[e.renderSlot(t.$slots,"bullet",{active:t.slides.current===c,slideIndex:c,index:r+1},()=>[e.createElementVNode("div",Z,[e.createElementVNode("span",null,e.toDisplayString(r+1),1)])])],42,Q))),128))])],512)):e.createCommentVNode("",!0),s.slidesCount&&s.conf.slideContentOutside==="bottom"?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(["vueperslide__content-wrapper vueperslide__content-wrapper--outside-bottom",s.conf.slideContentOutsideClass])},[s.currentSlide.contentSlot?(e.openBlock(),e.createBlock(a,{key:0,vnodes:s.currentSlide.contentSlot()},null,8,["vnodes"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.currentSlide.title?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vueperslide__title",innerHTML:s.currentSlide.title},null,8,$)):e.createCommentVNode("",!0),s.currentSlide.content?(e.openBlock(),e.createElementBlock("div",{key:1,class:"vueperslide__content",innerHTML:s.currentSlide.content},null,8,ee)):e.createCommentVNode("",!0)],64))],2)):e.createCommentVNode("",!0)],6)}var ue="";const se={name:"vueper-slides",components:{VueperSlide:k,vnodes:{render(){return this.$attrs.vnodes}}},provide(){return{conf:this.conf,slides:this.slides,touch:this.touch,updateSlide:this.updateSlide,addClone:this.addClone,addSlide:this.addSlide,removeSlide:this.removeSlide}},props:{alwaysRefreshClones:{type:Boolean,default:!1},arrows:{type:Boolean,default:!0},arrowsOutside:{type:Boolean,default:null},autoplay:{type:Boolean,default:!1},breakpoints:{type:Object,default:()=>({})},bullets:{type:Boolean,default:!0},bulletsOutside:{type:Boolean,default:null},disable:{type:Boolean,default:!1},disableArrowsOnEdges:{type:[Boolean,String],default:!1},draggingDistance:{type:Number,default:null},duration:{type:[Number,String],default:4e3},infinite:{type:Boolean,default:!0},fade:{type:Boolean,default:!1},fixedHeight:{type:[Boolean,String],default:!1},fractions:{type:Boolean,default:!1},gap:{type:Number,default:0},initSlide:{type:Number,default:1},lazy:{type:Boolean,default:!1},lazyLoadOnDrag:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},pauseOnTouch:{type:Boolean,default:!0},parallax:{type:[Boolean,Number],default:!1},pageScrollingElement:{type:String,default:""},parallaxFixedContent:{type:Boolean,default:!1},preventYScroll:{type:Boolean,default:!1},progress:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},slideContentOutside:{type:[Boolean,String],default:!1},slideContentOutsideClass:{type:String,default:""},slideImageInside:{type:Boolean,default:!1},slideMultiple:{type:[Boolean,Number],default:!1},slideRatio:{type:Number,default:1/3},touchable:{type:Boolean,default:!0},transitionSpeed:{type:[Number,String],default:600},visibleSlides:{type:Number,default:1},"3d":{type:Boolean,default:!1}},emits:["ready","next","previous","autoplay-pause","autoplay-resume","before-slide","slide","image-loaded","image-failed"],data:()=>({isReady:!1,isPaused:!1,container:null,slides:{list:[],activeId:null,current:0,focus:0,firstVisible:0},mouseDown:!1,mouseOver:!1,touch:{enabled:!0,dragging:!1,lazyloadTriggered:!1,justDragged:!1,dragStartX:0,dragNowX:0,dragAmount:0},transition:{currentTranslation:0,speed:0,animated:!1},autoplayTimer:null,nextSlideIsClone:!1,breakpointsData:{list:[],current:null},parallaxData:{translation:0,slideshowOffsetTop:null,isVisible:!1}}),computed:{conf(){const t=p(p({},this.$props),this.$props.breakpoints&&this.$props.breakpoints[this.breakpointsData.current]||{});return t.slideMultiple=t.slideMultiple?t.visibleSlides:1,t.gap=this.gap&&parseInt(this.gap)||0,t.visibleSlides>1&&(t["3d"]=!1),(t.fade||t.disableArrowsOnEdges||t.visibleSlides>1||t["3d"])&&(t.infinite=!1),t.visibleSlides>1&&t.arrowsOutside===null&&(t.arrowsOutside=!0),t.visibleSlides>1&&t.bulletsOutside===null&&(t.bulletsOutside=!0),this.touch.enabled!==t.touchable&&this.toggleTouchableOption(t.touchable),t.parallax&&t.parallaxFixedContent&&(t.slideContentOutside="top",t.slideContentOutsideClass="parallax-fixed-content"),t},slidesCount(){return this.slides.list.length},gapsCount(){const{fade:t,"3d":i,slideMultiple:l,gap:n}=this.conf;if(!n||t||i||this.multipleSlides1by1&&this.slides.current<this.preferredPosition)return 0;if(!this.slides.current&&this.nextSlideIsClone)return this.slidesCount;if(this.nextSlideIsClone===0)return-1;let o=this.slides.current/l-this.preferredPosition;return this.multipleSlides1by1&&this.slidePosAfterPreferred>0&&(o-=this.slidePosAfterPreferred),o},slidesAfterCurrent(){return this.slidesCount-(this.slides.current+1)},preferredPosition(){return this.multipleSlides1by1?Math.ceil(this.conf.visibleSlides/2)-1:0},slidePosAfterPreferred(){return this.conf.visibleSlides-this.preferredPosition-this.slidesAfterCurrent-1},multipleSlides1by1(){return this.conf.visibleSlides>1&&this.conf.slideMultiple===1},touchEnabled:{get(){return this.slidesCount>1&&this.touch.enabled},set(t){this.touch.enabled=t}},canSlide(){return this.slidesCount/this.conf.visibleSlides>1},firstSlide(){const t=this.slidesCount?this.slides.list[0]:{};return t.style&&typeof t.style=="string"&&(t.style=t.style.replace(/width: ?\d+.*?;?/,"")),t},lastSlide(){const t=this.slidesCount?this.slides.list[this.slidesCount-1]:{};return t.style&&typeof t.style=="string"&&(t.style=t.style.replace(/width: ?\d+.*?;?/,"")),t},currentSlide(){const t=this.slidesCount&&this.slides.list[this.slides.current]||{};return this.slides.current<this.slidesCount&&t.id!==this.slides.activeId&&this.goToSlide(this.slides.current,{animation:!1,autoPlaying:!0}),t},vueperslidesClasses(){return{"vueperslides--ready":this.isReady,"vueperslides--rtl":this.conf.rtl,"vueperslides--fade":this.conf.fade,"vueperslides--parallax":this.conf.parallax,"vueperslides--slide-image-inside":this.conf.slideImageInside,"vueperslides--touchable":this.touchEnabled&&!this.disable,"vueperslides--fixed-height":this.conf.fixedHeight,"vueperslides--3d":this.conf["3d"],"vueperslides--slide-multiple":this.conf.slideMultiple>1,"vueperslides--bullets-outside":this.conf.bulletsOutside,"vueperslides--animated":this.transition.animated,"vueperslides--no-animation":!this.isReady}},vueperslidesStyles(){return/^-?\d/.test(this.conf.fixedHeight)?`height: ${this.conf.fixedHeight}`:null},trackStyles(){const t={};return this.conf.parallax&&(t.transform=`translate3d(0, ${this.parallaxData.translation}%, 0)`,t.willChange=this.parallaxData.isVisible?"transform":"auto"),t},trackInnerStyles(){const t={},{fade:i,"3d":l}=this.conf;if(t.transitionDuration=`${this.transition.speed}ms`,l){const n=this.transition.currentTranslation*90/100;t.transform=`rotateY(-90deg) translateX(-50%) rotateY(90deg) rotateY(${n}deg)`}else i||(t.transform=`translate3d(${this.transition.currentTranslation}%, 0, 0)`,t.willChange=this.touch.dragging||this.transition.animated?"transform":"auto");return t},bulletIndexes(){return Array(Math.ceil(this.slidesCount/this.conf.slideMultiple)).fill().map((t,i)=>i*this.conf.slideMultiple)},arrowPrevDisabled(){return!this.slides.current&&this.conf.disableArrowsOnEdges},arrowNextDisabled(){const{disableArrowsOnEdges:t,visibleSlides:i,slideMultiple:l}=this.conf;return this.slides.current+(l>1&&i>1?i-1:0)===this.slidesCount-1&&t}},methods:{init(){this.container=this.$refs.vueperslides,this.touchEnabled=this.conf.touchable,this.transition.speed=this.conf.transitionSpeed,Object.keys(this.breakpoints).length&&(this.setBreakpointsList(),this.setBreakpointConfig(this.getCurrentBreakpoint()));const t={animation:!1,autoPlaying:this.conf.autoplay};this.goToSlide(this.conf.initSlide-1,t),this.bindEvents(),this.$nextTick(()=>{this.isReady=!0,this.emit("ready")})},emit(t,i=!0,l=!1){let n=null;if((i||typeof l=="number")&&(n={},i&&this.slides.activeId&&this.slidesCount&&(n.currentSlide=this.getSlideData(this.slides.current)),typeof l=="number"&&this.slidesCount)){const{nextSlide:o}=this.getSlideInRange(l);n.nextSlide=this.getSlideData(o)}this.$emit(...n?[t,n]:[t])},getSlideData(t){const i=this.slides.list[t];let l={};return i&&(l={index:t,title:i.title,content:i.content,contentSlot:i.contentSlot,image:i.image,link:i.link}),l},setBreakpointsList(){this.breakpointsData.list=[99999,...Object.keys(this.breakpoints)].map(t=>parseInt(t)).sort((t,i)=>parseInt(i)-parseInt(t))},getCurrentBreakpoint(){const t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=[t,...this.breakpointsData.list].sort((l,n)=>parseInt(n)-parseInt(l));return this.breakpointsData.list[i.indexOf(t)-1]},hasBreakpointChanged(t){return this.breakpointsData.current!==parseInt(t)},setBreakpointConfig(t){const i=this.breakpoints&&this.breakpoints[t]||{},l=i.slideMultiple&&i.slideMultiple!==this.conf.slideMultiple,n=i.visibleSlides&&i.visibleSlides!==this.conf.visibleSlides;this.breakpointsData.current=t,this.slides.current=this.getFirstVisibleSlide(this.slides.focus),l||n?this.goToSlide(this.slides.current,{breakpointChange:!0}):this.updateTrackTranslation()},bindEvents(){const t="ontouchstart"in window;this.touchEnabled&&this.toggleTouchableOption(!0),this.conf.autoplay&&(this.conf.pauseOnHover&&!t?(this.container.addEventListener("mouseenter",this.onMouseEnter),this.container.addEventListener("mouseleave",this.onMouseLeave)):this.conf.pauseOnTouch&&t&&document.addEventListener("touchstart",i=>{this[this.$el.contains(i.target)?"onSlideshowTouch":"onOustideTouch"]()})),(this.breakpointsData.list.length||this.conf.parallax)&&window.addEventListener("resize",this.onResize),this.conf.parallax&&(this.refreshParallax(),this.pageScrollingElement?(this.parallaxData.scrollingEl=document.querySelector(this.pageScrollingElement),this.parallaxData.scrollingEl.addEventListener("scroll",this.onScroll)):document.addEventListener("scroll",this.onScroll))},getSlideshowOffsetTop(t=!1){if(this.parallaxData.slideshowOffsetTop===null||t){let i=this.container,l=i.offsetTop;for(;i=i.offsetParent;)l+=i.offsetTop;this.parallaxData.slideshowOffsetTop=l}return this.parallaxData.slideshowOffsetTop},onScroll(){const{scrollingEl:t}=this.parallaxData,i=document.documentElement;let l=0;t?l=t.scrollTop:l=(window.pageYOffset||i.scrollTop)-(i.clientTop||0);const n=window.innerHeight||i.clientHeight||document.body.clientHeight,o=this.container.clientHeight,s=this.getSlideshowOffsetTop(),a=s+o-l,u=n+l-s;if(this.parallaxData.isVisible=a>0&&u>0,this.parallaxData.isVisible){const c=n+o,r=a*100/c,d=this.conf.parallax===-1?100-r:r;this.parallaxData.translation=-d/2}},onResize(){if(this.breakpointsData.list.length){const t=this.getCurrentBreakpoint();this.hasBreakpointChanged(t)&&this.setBreakpointConfig(t)}this.conf.parallax&&this.getSlideshowOffsetTop(!0)},onMouseEnter(){this.mouseOver=!0,this.conf.pauseOnHover&&this.conf.autoplay&&(this.isPaused=!0)},onMouseLeave(){this.mouseOver=!1,this.conf.pauseOnHover&&this.conf.autoplay&&(this.isPaused=!1)},onMouseDown(t){!this.touchEnabled||this.disable||(!t.touches&&this.preventYScroll&&t.preventDefault(),this.mouseDown=!0,this.touch.dragStartX=this.getCurrentMouseX(t),this.conf.draggingDistance||this.updateTrackTranslation(this.touch.dragStartX))},onMouseMove(t){if(this.mouseDown||this.touch.dragging)if(this.conf.autoplay&&(this.isPaused=!0),this.preventYScroll&&t.preventDefault(),this.mouseDown=!1,this.touch.dragging=!0,this.touch.dragNowX=this.getCurrentMouseX(t),this.conf.draggingDistance){this.touch.dragAmount=this.touch.dragNowX-this.touch.dragStartX;const i=this.touch.dragAmount/this.container.clientWidth;this.updateTrackTranslation(),this.transition.currentTranslation+=100*i}else this.updateTrackTranslation(this.touch.dragNowX)},onMouseUp(t){if(this.mouseDown=!1,this.touch.dragging)this.conf.autoplay&&(!("ontouchstart"in window)&&!this.mouseOver?this.isPaused=!1:this.conf.pauseOnTouch||(this.isPaused=!1));else return this.cancelSlideChange();this.touch.dragging=!1;const i=this.conf.draggingDistance?-this.touch.dragAmount:0,l=(this.touch.dragStartX-this.container.offsetLeft)/this.container.clientWidth,n=(this.touch.dragNowX-this.container.offsetLeft)/this.container.clientWidth,o=((l<.5?0:1)-n)*100;let s=(i||o)>0;if(this.conf.rtl&&(s=!s),[Math.abs(i)<this.conf.draggingDistance,!this.conf.draggingDistance&&Math.abs(o)<50,this.arrowPrevDisabled&&!this.slides.current&&!s,this.arrowNextDisabled&&this.slides.current===this.slidesCount-1&&s].includes(!0))this.cancelSlideChange();else{const u=this.slides.current+this.conf.slideMultiple*(s?1:-1);this.emit(s?"next":"previous"),this.goToSlide(u)}this.touch.dragStartX=null,this.touch.dragNowX=null,this.touch.dragAmount=null,this.touch.justDragged=!0,setTimeout(()=>this.touch.justDragged=!1,50),this.touch.lazyloadTriggered=!1},onSlideshowTouch(){this.isPaused=!0},onOustideTouch(){this.isPaused=!1},justDragged(){return this.touch.justDragged},cancelSlideChange(){this.conf.fade||this.updateTrackTranslation()},getCurrentMouseX(t){return"ontouchstart"in window?t.touches[0].clientX:t.clientX},getBasicTranslation(){return this.slides.current/this.conf.visibleSlides},updateTrackTranslation(t=null){let i=this.getBasicTranslation();const{infinite:l,visibleSlides:n,slideMultiple:o,gap:s,"3d":a,lazy:u,lazyLoadOnDrag:c}=this.conf;if(l&&this.nextSlideIsClone!==!1&&(i=(this.nextSlideIsClone?this.slidesCount:-1)/n),s&&(i+=this.gapsCount/(n/o)*s/100),this.touch.dragStartX&&t&&!(l&&this.nextSlideIsClone!==!1)){let r=0;const d=(this.touch.dragStartX-this.container.offsetLeft)/this.container.clientWidth;let g=(t-this.container.offsetLeft)/this.container.clientWidth;if(a){const m=Math.round(d)?[0,2]:[-1,1];g=Math.min(Math.max(g,m[0]),m[1])}if(r=(d<.5?0:1)-g,i+=r*(this.conf.rtl?-1:1),u&&c&&!this.touch.lazyloadTriggered){this.touch.lazyloadTriggered=!0;let m=this.slides.current+(r>0?1:-1)*n;l&&m===-1?m=this.slidesCount-1:l&&m===this.slidesCount&&(m=0);for(let S=0;S<n;S++){const y=this.slides.list[m+S];y&&!y.loaded&&this.loadSlide(y,m+S)}}}if(this.multipleSlides1by1&&!l){const r=this.slidePosAfterPreferred>0;let d=Math.min(this.preferredPosition,this.slides.current);r&&(d+=this.slidePosAfterPreferred),i-=d/n}this.transition.currentTranslation=-i*100*(this.conf.rtl?-1:1)},pauseAutoplay(){this.isPaused=!0,clearTimeout(this.autoplayTimer),this.autoplayTimer=0,this.emit("autoplay-pause")},resumeAutoplay(){this.isPaused=!1,this.doAutoplay(),this.emit("autoplay-resume")},doAutoplay(){clearTimeout(this.autoplayTimer),this.autoplayTimer=setTimeout(()=>{this.goToSlide(this.slides.current+this.conf.slideMultiple,{autoPlaying:!0})},this.currentSlide.duration||this.conf.duration)},previous(t=!0){t&&this.emit("previous"),this.goToSlide(this.slides.current-this.conf.slideMultiple)},next(t=!0){t&&this.emit("next"),this.goToSlide(this.slides.current+this.conf.slideMultiple)},refreshParallax(){setTimeout(()=>{this.onResize(),this.onScroll()},100)},getFirstVisibleSlide(t){const{slideMultiple:i,visibleSlides:l}=this.conf;let n=this.slides.current;return l>1&&i===l?n=Math.floor(t/l)*l:this.multipleSlides1by1&&(n=t-Math.min(t,this.preferredPosition)-Math.max(this.slidePosAfterPreferred,0)),n},getSlideInRange(t,i){let l=!1;this.conf.infinite&&t===-1?l=0:this.conf.infinite&&t===this.slidesCount&&(l=1);let n=(t+this.slidesCount)%this.slidesCount;if(this.conf.slideMultiple>1){const o=this.slidesCount%this.conf.slideMultiple||this.conf.slideMultiple,s=this.conf.slideMultiple-o;n+=t<0?s:0,n=this.getFirstVisibleSlide(n)}return this.conf.disableArrowsOnEdges&&(t<0||t>this.slidesCount-1)&&!i&&(n=this.slides.current),{nextSlide:n,clone:l}},goToSlide(t,{animation:i=!0,autoPlaying:l=!1,jumping:n=!1,breakpointChange:o=!1,emit:s=!0}={}){if(!this.slidesCount||this.disable)return;this.conf.autoplay&&!l&&!this.isPaused&&(this.isPaused=!0,this.$nextTick(()=>this.isPaused=!1)),this.transition.animated=i,setTimeout(()=>this.transition.animated=!1,this.transitionSpeed);const{nextSlide:a,clone:u}=this.getSlideInRange(t,l);if(this.nextSlideIsClone=u,!this.slides.list[a])return;if(this.conf.lazy)for(let r=0;r<this.conf.visibleSlides;r++){const d=this.slides.list[a+r];d&&!d.loaded&&this.loadSlide(d,a+r)}this.isReady&&!n&&s&&this.emit("before-slide",!0,a);const c=this.slides.list[a];if(this.isReady&&c.video){const r=this.slides.list[this.slides.current];r.video&&r.video.pause(),c.video.play()}if(u!==!1&&setTimeout(()=>{const r=t===-1&&this.slides.current!==this.slidesCount-1,d=t===this.slidesCount&&this.slides.current!==0;r||d||(this.transition.speed=0,this.goToSlide(u?0:this.slidesCount-1,{animation:!1,jumping:!0}),setTimeout(()=>this.transition.speed=this.conf.transitionSpeed,50))},this.transition.speed-50),this.slides.current=a,this.slides.firstVisible=this.getFirstVisibleSlide(a),o||(this.slides.focus=a),this.conf.fade||this.updateTrackTranslation(),this.slides.activeId=this.slides.list[this.slides.current].id,this.conf.autoplay&&l&&!this.isPaused&&this.doAutoplay(),this.slidesCount&&(this.isReady&&!n&&s&&this.emit("slide"),this.isReady&&this.conf.bullets&&!l&&!n&&this.$refs.bullets)){const r=this.$refs.bullets.children,d=r&&r[this.slides.current/this.conf.slideMultiple];if(d&&d.nodeName.toLowerCase()==="button"){let g=document.documentElement;this.pageScrollingElement&&(g=document.querySelector(this.pageScrollingElement));const m=g.scrollTop;d.focus({preventScroll:!0}),g.scrollTop=m}}},addSlide(t){return this.slides.list.push(t),this.isReady&&this.slidesCount===1&&this.conf.autoplay&&this.isPaused&&(this.isPaused=!1),this.slidesCount},addClone(){return this.updateTrackTranslation(),this.slidesCount},updateSlide(t,i){let l=this.slides.list.find(n=>n.id===t);l&&(l=Object.assign(l,i))},removeSlide(t){const i=this.slides.list.findIndex(l=>l.id===t);i>-1&&(this.slides.list.splice(i,1),this.slidesCount&&t===this.slides.activeId&&this.goToSlide(i-1,{autoPlaying:!0})),this.slides.current>=this.slidesCount&&this.goToSlide(0,{autoPlaying:!0})},loadSlide(t,i){t.loadImage().then(l=>{const{image:n,style:o}=l;t.loaded=!0,t.image=n,t.style=o,this.$emit("image-loaded",this.getSlideData(i))},()=>{t.loaded=!1,this.$emit("image-failed",this.getSlideData(i))})},toggleTouchableOption(t){const{track:i}=this.$refs;if(!i)return;this.touchEnabled=t;const l="ontouchstart"in window;t?(this.$refs.track.addEventListener(l?"touchstart":"mousedown",this.onMouseDown,{passive:!this.preventYScroll}),document.addEventListener(l?"touchmove":"mousemove",this.onMouseMove,{passive:!this.preventYScroll}),document.addEventListener(l?"touchend":"mouseup",this.onMouseUp,{passive:!0})):this.removeEventListeners()},removeEventListeners(){const t="ontouchstart"in window;this.$refs.track.removeEventListener(t?"touchstart":"mousedown",this.onMouseDown,{passive:!this.preventYScroll}),document.removeEventListener(t?"touchmove":"mousemove",this.onMouseMove,{passive:!this.preventYScroll}),document.removeEventListener(t?"touchend":"mouseup",this.onMouseUp,{passive:!0})}},watch:{isPaused(t){this[t?"pauseAutoplay":"resumeAutoplay"]()}},mounted(){this.init()},beforeUnmount(){this.removeEventListeners(),this.pageScrollingElement?document.querySelector(this.pageScrollingElement).removeEventListener("scroll",this.onScroll):document.removeEventListener("scroll",this.onScroll),document.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),document.removeEventListener("touchstart",t=>{this[this.$el.contains(t.target)?"onSlideshowTouch":"onOustideTouch"]()}),this.container.removeEventListener("mouseenter",this.onMouseEnter),this.container.removeEventListener("mouseleave",this.onMouseLeave)}};var ie=b(se,[["render",te]]);h.VueperSlide=k,h.VueperSlides=ie,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
